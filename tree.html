<!-- 
    // Â© 2023 Data Culture
    // Released under the ISC license.
    // https://studio.datacult.com/ 
-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        
        <style>
            .node-group1, .link_group1 {
                transition: 1.5s;
            }

            .node-group0, .link_group0 {
                transition: 1.5s;
            }

            #tree-placeholder {
                background-color: #22194D;
            }
        </style>
    </head>
    <body>  
        <div id="h-scroll">
          <select name="state" id="koko-nokoko">
            <option value="koko">Koko</option>
            <option value="nokoko">Without Koko</option>
          </select>
            <div id="tree-placeholder"></div>
        </div>
    </body>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="tree.js"></script>
    <script>
        async function init(){
            
            let flow = await d3.json('tree.json', d3.autoType)

            var intervention_select = document.getElementById("koko-nokoko");
            var intervention = intervention_select.value;

            let tree_vis = tree(flow,{
                width: 1152,
                intervention_type: intervention
            })

            intervention_select.addEventListener("change", function() {
    				intervention = intervention_select.value
                    tree_vis.update(intervention)
            });
        }
        init()

    </script>

</html>